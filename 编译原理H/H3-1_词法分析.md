# 编译原理 H3-1 词法分析

PB20000180 刘良宇

为下列正规式手工构造 NFA 和 DFA, 再用算法将 NFA 变换成 DFA，并构造最简的 DFA： 

$(a|b)^*abb(a|b)^*$

## 手工构造 NFA

```mermaid
graph LR
0(0)--a-->1
0--b-->1
0--ε-->1
1--ε-->0
1--a-->2--b-->3--b-->4
4--a-->5(5)
4--b-->5
4--ε-->5
5--ε-->4
```

其中 $0$ 状态是起始状态，$5$ 状态是接受状态

## 手工构造 DFA

```mermaid
graph LR
0(0)--a-->1
0--b-->0
1--a-->1
1--b-->2
2--a-->1
2--b-->3(3)
3--a-->3
3--b-->3
```

其中 $0$ 状态是开始状态，$3$ 状态是接受状态

## NFA 变换为 DFA

$A = \{0, 1\}$

$B = \{0, 1, 2\}$

$C = \{0, 1, 3\}$

$D = \{0, 1, 4, 5\}$

| 状态 | 输入 $a$ | 输入 $b$ |
| :--: | :------: | :------: |
| $A$  |   $B$    |   $A$    |
| $B$  |   $B$    |   $C$    |
| $C$  |   $B$    |   $D$    |
| $D$  |   $D$    |   $D$    |

```mermaid
graph LR
A(A)--a-->B
A--b-->A
B--a-->B
B--b-->C
C--a-->B
C--b-->D(D)
D--a-->D
D--b-->D
```

其中 $A$ 状态是开始状态，$D$ 状态是接受状态

## 最简 DFA

上述 DFA 不存在可区别的状态，所以已经是最简

```mermaid
graph LR
A(A)--a-->B
A--b-->A
B--a-->B
B--b-->C
C--a-->B
C--b-->D(D)
D--a-->D
D--b-->D
```

